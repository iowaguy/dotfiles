* Installing on a new machine

On a new machine, do the following:
1. Install NixOS on a flashdrive. Replace "sdX" with correct device name
   #+begin_src shell
     dd if=path-to-image of=/dev/sdX status=progress
   #+end_src

2. Create the machine-specific configuration, see =machine/= for examples.

3. Boot the new machine onto the flashdrive. Booting onto a flashdrive is
   machine specific. Search it.

4. Get my scripts
   #+begin_src shell
     git clone https://github.com/iowaguy/dotfiles
   #+end_src

5. Run my installer script
   #+begin_src shell
     cd home/programs/mynix
     sudo ./mynix fresh
   #+end_src

** Debugging install
If you get an error when creating the zpool that looks like =/dev/sda2 is part
of the exported pool 'bpool_xxxx'=, run the following, and then try again.
#+begin_src shell
  sudo zpool labelclear -f bpool_xxxx
#+end_src

If there is already a pool with the same name, it may be necessary to zero the
disk, like so:
#+begin_src shell
  sudo dd if=/dev/zero of=<DEVICE> bs=16M status=progress
#+end_src
